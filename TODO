- Testing requirements after changes:
  * Test all functions return either native or bigints.  Functions that
    return raw MPU::GMP results will return strings, which isn't right.
  * Valgrind, coverage
  * use:  -O2 -g -Wall -Wextra -Wdeclaration-after-statement -fsigned-char
  * Test on 32-bit Perl.  Test on Win32.


- Move .c / .h files into separate directory.
  version does it in a painful way.  Something simpler to be had?

- finish test suite for bignum.  Work on making it faster.

- An assembler version of mulmod for i386.

- More efficient Mertens.  The current version has poor growth.
  For 32-bit, consider doing XS followed by sum for remainder.

- It may be possible to have a more efficient ranged totient.  We're using
  the sieve up to n/2, which is better than most people seem to use, but I'm
  not completely convinced we can't do better.

- Big features:
   - QS factoring

- Figure out a way to make the internal FOR_EACH_PRIME macros use a segmented
  sieve.

- Rewrite 23-primality-proofs.t for new format (keep some of the old tests?).

- Use Montgomery routines in more places: Factoring.

- Factoring in PP code is really wasteful -- we're calling _isprime7 before
  we've done enough trial division, and later we're calling it on known
  composites.  Note how the XS code splits the factor code into the public
  API (small factors, isprime, then call main code) and main code (just the
  algorithm).  The PP code isn't doing that, which means we're doing lots of
  extra primality checks, which aren't cheap in PP.

- Consider using Test::Number::Delta for many tests

- More tweaking of LMO prime count.
    - OpenMP.  The step 7 inner loop is available.
    - Convert to 32-bit+GMP to support large inputs, add to MPU::GMP.
    - Try __int128.
    - Variable sieve size
    - look at sieve.c style prime walking


- Iterators speedup:
  1) config option for sieved next_prime.  Very general, would make
     next_prime run fast when called many times sequentially.  Nasty
     mixing with threads.
  2) iterator, PrimeIterator, or PrimeArray in XS using segment sieve.

- Perhaps have main segment know the filled in range.  That would allow
  a sieved next_prime, and might speed up some counts and the like.

- Consider exporting is_bpsw_prime and inverse Li

- Benchmark simple SoEs, SoA.  Include Sisyphus SoE hidden in Math::GMPz.

- Try using malloc/free for win32 cache memory.  #define NO_XSLOCKS

- Investigate optree constant folding in PP compilation for performance.
  Use B::Deparse to check.

- Ensure a fast path for Math::GMP from MPU -> MPU:GMP -> GMP, and back.

- We don't use legendre_phi for other functions any more, but it'd be nice
  to speed it up using some ideas from the Ohana 2011 SAGE branch.  For example
  (10**13,10**5) takes 2.5x longer, albeit with 6x less memory.

- XS alias forprimes, forcomposites, forpart

- More Pari:  parforprime, vecmin, vecmax

- is_power should take a third argument that gets set to the root

- znlog:
    = GMP BSGS for znlog.
    = Clean up znlog (PH, BSGS, Rho).
    = Experiment with Wang/Zhang 2012 Rho cycle finding

- export chinese?
    Mathematica   ChineseRemainder[{a1, a2, ...}{m1, m2, ...}]
    Pari          chinese( [Mod(a1,m1),Mod(a2,m2),Mod(a3,m3),...] )
    Math::ModInt  cr_combine(mod(a1,m1),mod(a2,m2),mod(a3,m3),...)

- CRT and gcdext:
    = crt doc, crt PP general case, crt PPFE
    = gcdext doc, tests
    = Math::Pari compare bezout/gcdext, chinese
    = high bits, bigints
    = performance:
         0.092  time mpu 'for (1..100000) { chinese([11,14],[1,10]) }'
         0.168  time perl -MMath::Pari=chinese,PARI -E 'my $a = PARI "Mod(11,14)"; my $b = PARI "Mod(1,10)"; for (1..100000) { chinese($a,$b); }'
         3.756  time perl -MMath::ModInt::ChineseRemainder=cr_combine -MMath::ModInt=mod -E 'for (1..100000) { cr_combine(mod(11,14),mod(1,10)) }'
        55.323  time MPU_NO_XS=1 mpu 'for (1..100000) { Math::Prime::Util::PP::chinese([11,14],[1,10]) }'
      The PP performance here is awful.  Even with bigints, Math::ModInt is
      over 10x faster.  We really should be beating Pari by a larger amount.
